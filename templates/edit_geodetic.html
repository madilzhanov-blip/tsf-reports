{% extends "base.html" %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–æ–π –∏–Ω—Å–ø–µ–∫—Ü–∏–∏{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
        <h2 class="mb-0">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–µ–æ–¥–µ–∑–∏—á–µ—Å–∫–æ–π –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ #{{ inspection.id }}</h2>
        <small>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {{ inspection.get('updated_at', inspection.created_at) }}</small>
    </div>
    
    <div class="card-body">
        <form method="POST">
            <h3 style="margin-bottom: 20px; color: #2c3e50;">üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="project">üèóÔ∏è –ü—Ä–æ–µ–∫—Ç *</label>
                    <select id="project" name="project" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç</option>
                        <option value="–•–≤–æ—Å—Ç–æ–≤–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ –ö–∞—Ä—Ç–∞ ‚Ññ1" {{ 'selected' if inspection.project == '–•–≤–æ—Å—Ç–æ–≤–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ –ö–∞—Ä—Ç–∞ ‚Ññ1' else '' }}>–•–≤–æ—Å—Ç–æ–≤–æ–µ —Ö–æ–∑—è–π—Å—Ç–≤–æ –ö–∞—Ä—Ç–∞ ‚Ññ1</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="major_object">üè¢ –£–∫—Ä—É–ø–Ω–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç *</label>
                    <select id="major_object" name="major_object" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —É–∫—Ä—É–ø–Ω–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç</option>
                        <option value="–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥" {{ 'selected' if inspection.major_object == '–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥' else '' }}>–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥</option>
                        <option value="–ú–µ–∂–ø–ª–æ—â–∞–¥–æ—á–Ω—ã–µ —Å–µ—Ç–∏" {{ 'selected' if inspection.major_object == '–ú–µ–∂–ø–ª–æ—â–∞–¥–æ—á–Ω—ã–µ —Å–µ—Ç–∏' else '' }}>–ú–µ–∂–ø–ª–æ—â–∞–¥–æ—á–Ω—ã–µ —Å–µ—Ç–∏</option>
                        <option value="–ü–ª–æ—â–∞–¥–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω—Ü–∏–∏ –ì–ü–ü - 1–ü–° 110/6–∫–í" {{ 'selected' if inspection.major_object == '–ü–ª–æ—â–∞–¥–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω—Ü–∏–∏ –ì–ü–ü - 1–ü–° 110/6–∫–í' else '' }}>–ü–ª–æ—â–∞–¥–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω—Ü–∏–∏ –ì–ü–ü - 1–ü–° 110/6–∫–í</option>
                        <option value="–•–≤–æ—Å—Ç–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ" {{ 'selected' if inspection.major_object == '–•–≤–æ—Å—Ç–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ' else '' }}>–•–≤–æ—Å—Ç–æ—Ö—Ä–∞–Ω–∏–ª–∏—â–µ</option>
                        <option value="–î—Ä—É–≥–æ–µ" {{ 'selected' if inspection.major_object == '–î—Ä—É–≥–æ–µ' else '' }}>–î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="work_package">üì¶ –ü–∞–∫–µ—Ç —Ä–∞–±–æ—Ç *</label>
                    <select id="work_package" name="work_package" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–∫–µ—Ç —Ä–∞–±–æ—Ç</option>
                        <option value="C1" {{ 'selected' if inspection.work_package == 'C1' else '' }}>C1</option>
                    </select>
                </div>
                
            <div class="form-group">
                <label for="inspection_date">üìÖ –î–∞—Ç–∞ –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ *</label>
                <input type="date" id="inspection_date" name="inspection_date" 
                       value="{{ inspection.inspection_date }}" required>
            </div>

                <div class="form-group">
                    <label for="object">üéØ –û–±—ä–µ–∫—Ç *</label>
                    <select id="object" name="object" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç</option>
                        <option value="–í–æ–¥–æ–≤–æ–¥ –æ–±–æ—Ä–æ—Ç–Ω–æ–π –≤–æ–¥—ã –æ—Ç –ù–°–ü-1–∞, –ù–°–ü-1–± –¥–æ –ú–û–§-3" {{ 'selected' if inspection.object == '–í–æ–¥–æ–≤–æ–¥ –æ–±–æ—Ä–æ—Ç–Ω–æ–π –≤–æ–¥—ã –æ—Ç –ù–°–ü-1–∞, –ù–°–ü-1–± –¥–æ –ú–û–§-3' else '' }}>–í–æ–¥–æ–≤–æ–¥ –æ–±–æ—Ä–æ—Ç–Ω–æ–π –≤–æ–¥—ã –æ—Ç –ù–°–ü-1–∞, –ù–°–ü-1–± –¥–æ –ú–û–§-3</option>
                        <option value="–ì–ü–ü-1 –ü–° 110/10–∫–í-2—Ö10000–∫–í–ê" {{ 'selected' if inspection.object == '–ì–ü–ü-1 –ü–° 110/10–∫–í-2—Ö10000–∫–í–ê' else '' }}>–ì–ü–ü-1 –ü–° 110/10–∫–í-2—Ö10000–∫–í–ê</option>
                        <option value="–ú–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥ —Ö–≤–æ—Å—Ç–æ–≤ —Ñ–ª–æ—Ç–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã 1" {{ 'selected' if inspection.object == '–ú–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥ —Ö–≤–æ—Å—Ç–æ–≤ —Ñ–ª–æ—Ç–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã 1' else '' }}>–ú–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥ —Ö–≤–æ—Å—Ç–æ–≤ —Ñ–ª–æ—Ç–∞—Ü–∏–∏ –∫–∞—Ä—Ç—ã 1</option>
                        <option value="–ü–∏–æ–Ω–µ—Ä–Ω–∞—è –¥–∞–º–±–∞" {{ 'selected' if inspection.object == '–ü–∏–æ–Ω–µ—Ä–Ω–∞—è –¥–∞–º–±–∞' else '' }}>–ü–∏–æ–Ω–µ—Ä–Ω–∞—è –¥–∞–º–±–∞</option>
                        <option value="–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥" {{ 'selected' if inspection.object == '–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥' else '' }}>–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥</option>
                        <option value="–î—Ä—É–≥–æ–µ" {{ 'selected' if inspection.object == '–î—Ä—É–≥–æ–µ' else '' }}>–î—Ä—É–≥–æ–µ</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="section">üìç –£—á–∞—Å—Ç–æ–∫</label>
                <input type="text" id="section" name="section" value="{{ inspection.section }}" 
                       placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–µ–≤–µ—Ä–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –ø–∏–æ–Ω–µ—Ä–Ω–æ–π –¥–∞–º–±—ã, –£–∑–µ–ª –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è">
            </div>
            
            <div class="form-group">
                <label for="work_name">‚öíÔ∏è –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç *</label>
                <textarea id="work_name" name="work_name" rows="3" required 
                          placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç –ø–æ –∑–∞—è–≤–∫–µ">{{ inspection.work_name }}</textarea>
            </div>
            
            

            <h3 style="margin: 30px 0 20px 0; color: #2c3e50;">üîß –î–µ—Ç–∞–ª–∏ –∏–Ω—Å–ø–µ–∫—Ü–∏–∏</h3>
            
            <div class="form-row">
                <div class="form-group">
                    <label for="quantity_project">üìä –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ –ø—Ä–æ–µ–∫—Ç—É</label>
                    <input type="text" id="quantity_project" name="quantity_project" 
                           value="{{ inspection.quantity_project }}" 
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 21000–º3, –ì–µ–æ—Ç–µ–∫—Å—Ç–∏–ª—å 1420–º¬≤, –§–ú-1 /5—à—Ç">
                </div>
                
                <div class="form-group">
                    <label for="quantity_actual">üìà –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏</label>
                    <input type="text" id="quantity_actual" name="quantity_actual" 
                           value="{{ inspection.quantity_actual }}" 
                           placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 21000–º3, –ì–µ–æ—Ç–µ–∫—Å—Ç–∏–ª—å 1420–º¬≤, –§–ú-1 /5—à—Ç">
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="picket_from">üìê –ü–∏–∫–µ—Ç–∞–∂ –æ—Ç</label>
                    <input type="text" id="picket_from" name="picket_from" 
                           value="{{ inspection.picket_from }}" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–ö 0+00">
                </div>
                
                <div class="form-group">
                    <label for="picket_to">üìê –ü–∏–∫–µ—Ç–∞–∂ –¥–æ</label>
                    <input type="text" id="picket_to" name="picket_to" 
                           value="{{ inspection.picket_to }}" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ü–ö 15+50">
                </div>
            </div>

            <div class="form-group">
                <label for="inspector_name_field">üë§ –§–ò–û –ò–Ω—Å–ø–µ–∫—Ç–æ—Ä–∞</label>
                <input type="text" id="inspector_name_field" name="inspector_name_field" 
                       value="{{ inspection.inspector_name_field }}" 
                       placeholder="–§–ò–û –ø—Ä–æ–≤–æ–¥—è—â–µ–≥–æ –∏–Ω—Å–ø–µ–∫—Ü–∏—é">
            </div>

            <div class="form-group">
                <label for="decision">‚úÖ –†–µ—à–µ–Ω–∏–µ</label>
                <select id="decision" name="decision">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ—à–µ–Ω–∏–µ</option>
                    <option value="–ü—Ä–∏–Ω—è—Ç–æ" {{ 'selected' if inspection.decision == '–ü—Ä–∏–Ω—è—Ç–æ' else '' }}>‚úÖ –ü—Ä–∏–Ω—è—Ç–æ</option>
                    <option value="–ü—Ä–∏–Ω—è—Ç–æ —Å –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏" {{ 'selected' if inspection.decision == '–ü—Ä–∏–Ω—è—Ç–æ —Å –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏' else '' }}>‚ö†Ô∏è –ü—Ä–∏–Ω—è—Ç–æ —Å –∑–∞–º–µ—á–∞–Ω–∏—è–º–∏</option>
                    <option value="–û—Ç–∫–ª–æ–Ω–µ–Ω–æ" {{ 'selected' if inspection.decision == '–û—Ç–∫–ª–æ–Ω–µ–Ω–æ' else '' }}>‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ</option>
                    <option value="–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏" {{ 'selected' if inspection.decision == '–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏' else '' }}>üîß –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏</option>
                    <option value="–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏" {{ 'selected' if inspection.decision == '–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏' else '' }}>‚è≥ –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</option>
                </select>
            </div>

            <div class="form-group">
                <label for="deviation_comments">üìù –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è—Ö</label>
                <textarea id="deviation_comments" name="deviation_comments" rows="4" 
                          placeholder="–ü–æ–¥—Ä–æ–±–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π –æ—Ç –Ω–æ—Ä–º –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤...">{{ inspection.deviation_comments }}</textarea>
            </div>

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–∑–¥–∞—Ç–µ–ª–µ -->
            <div class="info-section" style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0;">
                <h4 style="color: #495057; margin-bottom: 10px;">‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø–∏—Å–∏</h4>
                <div class="form-row">
                    <div class="form-group">
                        <label>üë®‚Äçüíº –ò–Ω—Å–ø–µ–∫—Ç–æ—Ä</label>
                        <input type="text" value="{{ inspection.inspector_name }}" readonly style="background: #e9ecef;">
                    </div>
                    <div class="form-group">
                        <label>üìÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</label>
                        <input type="text" value="{{ inspection.created_at }}" readonly style="background: #e9ecef;">
                    </div>
                </div>
            </div>

            <div style="display: flex; gap: 15px; margin-top: 30px;">
                <button type="submit" class="btn btn-success" style="flex: 1;">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                </button>
                <a href="{{ url_for('geodetic_list') }}" class="btn btn-secondary" style="flex: 0 0 200px;">
                    üîô –û—Ç–º–µ–Ω–∞
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}