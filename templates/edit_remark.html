{% extends "base.html" %}

{% block title %}–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è{% endblock %}

{% block content %}
<div class="card">
    <h2>‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞ –æ –∑–∞–º–µ—á–∞–Ω–∏–∏ #{{ remark.id }}</h2>
    <p style="color: #666; margin-bottom: 30px;">–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: {{ remark.get('updated_at', remark.created_at) }}</p>
    
    <form method="POST">
        <h3 style="margin-bottom: 20px; color: #2c3e50;">üìã –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
        
        <div class="form-group">
            <label for="Discipline">1. –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞ *</label>
            <select id="Discipline" name="Discipline" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É</option>
                <option value="CIV" {{ 'selected' if remark.Discipline == 'CIV' else '' }}>CIV</option>
                <option value="ELE" {{ 'selected' if remark.Discipline == 'ELE' else '' }}>ELE</option>
                <option value="PIP" {{ 'selected' if remark.Discipline == 'PIP' else '' }}>PIP</option>
                <option value="CCTV" {{ 'selected' if remark.Discipline == 'CCTV' else '' }}>CCTV</option>
                <option value="INS" {{ 'selected' if remark.Discipline == 'INS' else '' }}>INS</option>
                <option value="STS" {{ 'selected' if remark.Discipline == 'STS' else '' }}>STS</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="major_object">2. –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞ *</label>
            <select id="major_object" name="major_object" required>
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–±—ä–µ–∫—Ç</option>
                <option value="–ú–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥–∞ —Ö–≤–æ—Å—Ç–æ–≤ –∫–∞—Ä—Ç—ã 1" {{ 'selected' if remark.major_object == '–ú–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥–∞ —Ö–≤–æ—Å—Ç–æ–≤ –∫–∞—Ä—Ç—ã 1' else '' }}>–ú–∞–≥–∏—Å—Ç—Ä–∞–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥–∞ —Ö–≤–æ—Å—Ç–æ–≤ –∫–∞—Ä—Ç—ã 1</option>
                <option value="–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥" {{ 'selected' if remark.major_object == '–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥' else '' }}>–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π –ø—É–ª—å–ø–æ–≤–æ–¥</option>
                <option value="–ü–ª–æ—â–∞–¥–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω—Ü–∏–∏ –ì–ü–ü-1 110/10–∫–í. –ì–ü–ü-1 –ü–° 110/6 –∫–í - 2—Ö10000" {{ 'selected' if remark.major_object == '–ü–ª–æ—â–∞–¥–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω—Ü–∏–∏ –ì–ü–ü-1 110/10–∫–í. –ì–ü–ü-1 –ü–° 110/6 –∫–í - 2—Ö10000' else '' }}>–ü–ª–æ—â–∞–¥–∫–∞ –ø–æ–¥—Å—Ç–∞–Ω—Ü–∏–∏ –ì–ü–ü-1 110/10–∫–í. –ì–ü–ü-1 –ü–° 110/6 –∫–í - 2—Ö10000</option>
                <option value="–ü–∏–æ–Ω–µ—Ä–Ω–∞—è –¥–∞–º–±–∞" {{ 'selected' if remark.major_object == '–ü–∏–æ–Ω–µ—Ä–Ω–∞—è –¥–∞–º–±–∞' else '' }}>–ü–∏–æ–Ω–µ—Ä–Ω–∞—è –¥–∞–º–±–∞</option>
                <option value="–î—Ä—É–≥–æ–µ" {{ 'selected' if remark.major_object == '–î—Ä—É–≥–æ–µ' else '' }}>–î—Ä—É–≥–æ–µ</option>
            </select>
        </div>

        <div class="form-group">
            <label for="remark_description">3. –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–º–µ—á–∞–Ω–∏—è</label>
            <input type="text" id="remark_description" name="remark_description" 
                   value="{{ remark.remark_description }}" required
                   placeholder="–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤—ã—è–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–º–µ—á–∞–Ω–∏–π –ø–æ–¥—Ä—è–¥–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏">
        </div>

        <div class="form-group">
            <label for="link_to_normative">4. –°—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –∏–ª–∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—É</label>
            <input type="text" id="link_to_normative" name="link_to_normative" 
                   value="{{ remark.link_to_normative }}" required
                   placeholder="–ì–û–°–¢ 10181-2000, –ü–ü–† TSFS-EE-000000-CIV-MET-0004">
        </div>
            
        <div class="form-group">
            <label for="inspection_date">5. –î–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞ *</label>
            <input type="date" id="inspection_date" name="inspection_date" 
                   value="{{ remark.inspection_date }}"required>
        </div>
        
        <div class="form-group">
            <label for="responsible_person_cont">6. –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ –ª–∏—Ü–æ –æ—Ç –ø–æ–¥—Ä—è–¥—á–∏–∫–∞</label>
            <input type="text" id="responsible_person_cont" name="responsible_person_cont" 
                   value="{{ remark.responsible_person_cont }}" required
                   placeholder="–§.–ò.–û">
        </div>

        <div class="form-group">
            <label for="inspector_name_field">7. –§–ò–û –ò–Ω—Å–ø–µ–∫—Ç–æ—Ä–∞</label>
            <input type="text" id="inspector_name_field" name="inspector_name_field" 
                   value="{{ remark.inspector_name_field }}"
                   placeholder="–§–ò–û –ø—Ä–æ–≤–æ–¥—è—â–µ–≥–æ –∏–Ω—Å–ø–µ–∫—Ü–∏—é">
        </div>

        <div class="form-group">
            <label for="remark_closed_date.plan">8. –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –¥–∞—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏—è *</label>
            <input type="date" id="remark_closed_date.plan" name="remark_closed_date.plan" 
                   value="{{ remark.get('remark_closed_date.plan', '') }}">
        </div>

        <div class="form-group">
            <label for="remark_closed_date.actual">9. –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–∞—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏—è</label>
            <input type="date" id="remark_closed_date.actual" name="remark_closed_date.actual" 
                   value="{{ remark.get('remark_closed_date.actual', '') }}">
        </div>
        
        <div class="form-group">
            <label for="reason_for_reject">10. –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –∑–∞–º–µ—á–∞–Ω–∏—è</label>
            <textarea id="reason_for_reject" name="reason_for_reject" rows="3" required
                      placeholder="–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ—Å—ã–ø–∞—Ç—å –¥–æ –ø—Ä–æ–µ–∫—Ç–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.">{{ remark.reason_for_reject }}</textarea>
        </div>

        <div class="form-group">
            <label for="Status">11. –°—Ç–∞—Ç—É—Å</label>
            <select id="Status" name="Status">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å</option>
                <option value="–ó–∞–∫—Ä—ã—Ç–æ" {{ 'selected' if remark.Status == '–ó–∞–∫—Ä—ã—Ç–æ' else '' }}>‚úÖ –ó–∞–∫—Ä—ã—Ç–æ</option>
                <option value="–û—Ç–∫—Ä—ã—Ç–æ" {{ 'selected' if remark.Status == '–û—Ç–∫—Ä—ã—Ç–æ' else '' }}>‚ö† –û—Ç–∫—Ä—ã—Ç–æ</option>
            </select>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ–∑–¥–∞–Ω–∏–∏ -->
        <div class="row mb-3" style="margin-top: 30px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
            <div class="col-md-6">
                <label class="form-label" style="font-weight: bold;">üë®‚Äçüíº –°–æ–∑–¥–∞–ª:</label>
                <input type="text" class="form-control" value="{{ remark.inspector_name }}" readonly>
            </div>
            <div class="col-md-6">
                <label class="form-label" style="font-weight: bold;">üìÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:</label>
                <input type="text" class="form-control" value="{{ remark.created_at }}" readonly>
            </div>
        </div>
        
        <div style="display: flex; gap: 15px; margin-top: 30px;">
            <button type="submit" class="btn btn-success" style="flex: 1;">
                üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
            </button>
            <a href="{{ url_for('remark_list') }}" class="btn btn-secondary" style="flex: 0 0 200px;">
                üîô –û—Ç–º–µ–Ω–∞
            </a>
        </div>
    </form>
</div>
{% endblock %}